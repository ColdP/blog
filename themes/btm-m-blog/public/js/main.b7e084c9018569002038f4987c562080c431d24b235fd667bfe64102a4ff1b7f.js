(()=>{(()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d();function d(){let a=document.querySelector("header"),i=[...document.querySelectorAll("main > *:not(script)"),...document.querySelectorAll("main section")],n=Array.from(new Set(i));if(n.forEach((r,o)=>{r.classList.add("motion-reveal");let e=`motion-reveal-delay-${Math.min(o%3+1,3)}`;r.classList.add(e)}),"IntersectionObserver"in window){let r=new IntersectionObserver((o,e)=>{o.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),e.unobserve(t.target))})},{threshold:.08,rootMargin:"0px 0px -8% 0px"});n.forEach(o=>r.observe(o))}else n.forEach(r=>r.classList.add("is-visible"));let c=()=>{a&&(window.scrollY>12?a.classList.add("header-scrolled"):a.classList.remove("header-scrolled"))};c(),window.addEventListener("scroll",c,{passive:!0}),u()}function u(){let a=Array.from(document.querySelectorAll("[data-search-input]"));if(!a.length)return;let i=Array.from(document.querySelectorAll("main section, main article")),n=i.length?i:Array.from(document.querySelectorAll("main > *:not(script):not(style)")),c=Array.from(document.querySelectorAll(".mobile-nav li")),r=(e,t)=>{let s=t.trim().toLowerCase();e.forEach(l=>{let f=(l.textContent||"").toLowerCase();l.style.display=!s||f.includes(s)?"":"none"})},o=e=>{r(n,e),c.length&&r(c,e)};a.forEach(e=>{e.dataset.searchBound!=="true"&&(e.dataset.searchBound="true",e.addEventListener("input",t=>{let s=t.target.value;a.forEach(l=>{l!==t.target&&(l.value=s)}),o(s)}),e.addEventListener("keydown",t=>{t.key==="Escape"&&(t.target.value="",a.forEach(s=>{s!==t.target&&(s.value="")}),o(""))}))})}})();})();
